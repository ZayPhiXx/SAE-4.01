\ProvidesPackage{bav4}
\RequirePackage{xcolor} % Pour les couleurs
\RequirePackage{tcolorbox} % Pour les boîtes stylisées
\RequirePackage{pdfcomment}
\RequirePackage{hyperref}
\RequirePackage{fontenc}
\tcbuselibrary{listingsutf8} % Support UTF-8
\tcbuselibrary{skins}

% Définir la configuration lstset inspirée de Visual Studio Code
\lstset{
  basicstyle=\ttfamily\footnotesize,    % Police monospacée et petite taille
  keywordstyle=\color{blue}\bfseries,   % Mots-clés en bleu et en gras
  commentstyle=\color{green!50!black},  % Commentaires en vert foncé
  stringstyle=\color{red},              % Chaînes de caractères en rouge
  identifierstyle=\color{black},        % Identifiants en noir
  breaklines=true,                     % Retour à la ligne automatique
  numbers=left,                        % Numéros de ligne à gauche
  numberstyle=\tiny\color{gray},       % Style des numéros de ligne (petits et gris)
  captionpos=b,                        % Légende en bas du code
  showstringspaces=false,              % Ne pas afficher les espaces dans les chaînes
  keywordstyle=\color{blue!70},       % Mots-clés en bleu (style Visual Studio Code)
  commentstyle=\color{gray!50!green},  % Commentaires en gris-vert
  stringstyle=\color{red!50},         % Chaînes de caractères en rouge
}


% Définition d'un alias pour une commande utilisateur ($ vert)
\newtcolorbox{command}{
    colback=gray!10, % Fond gris clair
    colframe=gray!90!green, % Bordure grise
    sharp corners, % Coins carrés
    boxrule=0.5pt, % Épaisseur de la bordure
    fontupper=\ttfamily, % Police monospace
    left=3pt, right=3pt, top=3pt, bottom=3pt, % Marges internes
    halign=flush left,
    before upper={\textcolor{green!70!black}{\textbf{\$  }}},
    before skip=5pt, after skip=5pt, % Espacement avant/après la boxS
}

% Définition d'un alias pour une commande root (# blanc)
\newtcolorbox{rootcommand}{
    colback=gray!10, % Fond gris clair
    colframe=gray!90, % Bordure grise
    sharp corners, % Coins carrés
    boxrule=0.5pt, % Épaisseur de la bordure
    fontupper=\ttfamily, % Police monospace
    left=3pt, right=3pt, top=3pt, bottom=3pt, % Marges internes
    %fit to text,
    %boxrule=0pt,
    halign=flush left,
    before upper={\textcolor{gray!70}{\textbf{\#  }}},
    before skip=5pt, after skip=5pt, % Espacement avant/après la boxS
}
\newtcolorbox[auto counter, number within=section]{configbox}[1]{
    colback=gray!10, % Fond bleu clair
    colframe=gray!50, % Bordure bleue
    sharp corners, % Coins carrés
    boxrule=0.75pt, % Épaisseur de la bordure
    fonttitle=\bfseries, % Titre en gras
    title={\textbf{config} - \texttt{#1}}, % Affiche le nom du fichier
    fontupper=\ttfamily, % Police monospace pour le contenu
    left=5pt, right=5pt, top=5pt, bottom=5pt, % Marges internes
    before skip=10pt, after skip=10pt, % Espacement avant/après la box
}
\newtcolorbox[auto counter, number within=section]{codebox}[1]{
    colback=gray!10, % Fond bleu clair
    colframe=blue!50, % Bordure bleue
    sharp corners, % Coins carrés
    boxrule=0.75pt, % Épaisseur de la bordure
    fonttitle=\bfseries, % Titre en gras
    title={\textbf{\texttt{</>}} \texttt{#1}}, % Affiche le nom du fichier
    fontupper=\ttfamily, % Police monospace pour le contenu
    left=5pt, right=5pt, top=5pt, bottom=5pt, % Marges internes
    before skip=10pt, after skip=10pt, % Espacement avant/après la box
}




% alias pour la mif
\newcommand{\ipport}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand{\ip}[1]{{\fontfamily{pcr}\selectfont #1}}
\newcommand{\cmd}[1]{\begin{command}\texttt{#1}\end{command}}
\newcommand{\rootcmd}[1]{\begin{rootcommand}\texttt{#1}\end{rootcommand}}
